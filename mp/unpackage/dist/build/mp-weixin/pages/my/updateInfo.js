(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/updateInfo"],{"156c":function(t,e,n){},"2adc":function(t,e,n){"use strict";(function(t,e){var r=n("47a9");n("1802");r(n("3240"));var a=r(n("de2b"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"3c40":function(t,e,n){"use strict";n.r(e);var r=n("aadf"),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(u);e["default"]=a.a},"6a6b":function(t,e,n){"use strict";var r=n("156c"),a=n.n(r);a.a},"8fc4":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return r}));var r={myInput:function(){return n.e("components/my-input/my-input").then(n.bind(null,"4137c"))}},a=function(){var t=this.$createElement;this._self._c},u=[]},aadf:function(t,e,n){"use strict";(function(t){var r=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("7eb4")),u=r(n("ee10")),c=r(n("7ca3")),o=n("8f59");n("133a");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var f={data:function(){return{form:{name:"",img:"",phone:"",content:""}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,c.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,o.mapState)(["userInfo"])),onLoad:function(t){this.initForm()},methods:{initForm:function(){this.form={name:this.userInfo.username,img:this.userInfo.img,content:this.userInfo.content}},handleSubmit:function(){var e=this;return(0,u.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.form.name){n.next=3;break}return e.$msg("请输入昵称！"),n.abrupt("return");case 3:if(e.form.img){n.next=6;break}return e.$msg("请上传头像！"),n.abrupt("return");case 6:return n.next=8,e.$api({url:"updateUserInfo",data:e.form});case 8:r=n.sent,200==r.code?(t.showToast({title:"修改成功",icon:"success"}),e.$store.dispatch("getUserInfo"),setTimeout((function(){e.$back()}),500)):t.showToast({title:"修改失败",icon:"fail"});case 10:case"end":return n.stop()}}),n)})))()},handleUploadImg:function(){var t=this;return(0,u.default)(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$uploadImage();case 2:n=e.sent,200==n.code&&(t.form.img=n.data.url);case 4:case"end":return e.stop()}}),e)})))()}}};e.default=f}).call(this,n("df3c")["default"])},de2b:function(t,e,n){"use strict";n.r(e);var r=n("8fc4"),a=n("3c40");for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("6a6b");var c=n("828b"),o=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"5da0e40a",null,!1,r["a"],void 0);e["default"]=o.exports}},[["2adc","common/runtime","common/vendor"]]]);