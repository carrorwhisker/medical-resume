(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myCur/uploadAvt"],{"0b6b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return a}));var a={qfImageCropper:function(){return n.e("uni_modules/qf-image-cropper/components/qf-image-cropper/qf-image-cropper").then(n.bind(null,"267b"))}},r=function(){var e=this.$createElement;this._self._c},u=[]},"85e6":function(e,t,n){"use strict";n.r(t);var a=n("b787"),r=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);t["default"]=r.a},b787:function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7eb4")),u=a(n("ee10")),o=(n("8f59"),n("1e0d")),i={data:function(){return{}},onLoad:function(e){},mounted:function(){this.$refs.qfImageCropper.chooseImage({sourceType:["album"]})},methods:{handleCrop:function(t){var n=this;return(0,u.default)(r.default.mark((function a(){var u,o;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.tempFilePath){a.next=2;break}return a.abrupt("return");case 2:return e.showLoading({title:"上传中..."}),a.next=5,n.uploadImage(t.tempFilePath);case 5:return u=a.sent,a.next=8,n.uploadImage(t.originalImage);case 8:o=a.sent,200==u.code&&200==o.code&&e.navigateBack({success:function(){e.$emit("uploadAvt",{img:u.data.url,img_yt:o.data.url})}}),e.hideLoading();case 11:case"end":return a.stop()}}),a)})))()},uploadImage:function(t){return(0,u.default)(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,a){e.uploadFile({url:o.uploadImgUrl,name:"file",filePath:t,header:{Token:e.getStorageSync("token")},success:function(e){n(JSON.parse(e.data))},fail:function(e){a(e)}})})));case 1:case"end":return n.stop()}}),n)})))()}}};t.default=i}).call(this,n("df3c")["default"])},b9f0:function(e,t,n){"use strict";n.r(t);var a=n("0b6b"),r=n("85e6");for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);var o=n("828b"),i=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"24e454e9",null,!1,a["a"],void 0);t["default"]=i.exports},e80a:function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("1802");a(n("3240"));var r=a(n("b9f0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["e80a","common/runtime","common/vendor"]]]);