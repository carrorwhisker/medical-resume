(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/resume/details"],{"03a3":function(t,e,n){"use strict";var a=n("8721"),i=n.n(a);i.a},1762:function(t,e,n){"use strict";n.r(e);var a=n("9cdd"),i=n("aa91");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("03a3");var s=n("828b"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"2909b4ac",null,!1,a["a"],void 0);e["default"]=c.exports},"3bf2":function(t,e,n){"use strict";(function(t,a){var i=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("7eb4")),s=i(n("ee10")),c=i(n("7ca3")),r=n("8f59");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,c.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={data:function(){return{showSwap:!1,showInfo:!1,id:"",info:{view_num:0},tabInfo:{title:"",isPhone:!1,content:""},exchangeType:"简历",shareInfo:{}}},computed:u(u({},(0,r.mapState)(["cardInfo","userInfo"])),{},{viewCount:function(){return this.info.view_num>3?3:this.info.view_num||0},showVipBtn:function(){return 2==this.userInfo.is_vip||2!=this.info.exchangeStatus}}),onLoad:function(t){this.id=t.id},onShow:function(){this.loadInfo()},onShareAppMessage:function(){return this.shareInfo},methods:{handleShowSwap:function(t){this.exchangeType=t,this.showSwap=!0},handleCopyContent:function(){(this.$isVipTip(2!=this.info.exchangeStatus)||2==this.info.exchangeStatus)&&this.$copy(this.info.content)},showVal:function(t){return 2==this.info.exchangeStatus?t:"******"},handleshareFile:function(){var e=this;this.info.attachment?(this.$isVipTip(2!=this.info.exchangeStatus)||2==this.info.exchangeStatus)&&(t.showLoading({title:"请稍等..."}),t.downloadFile({url:this.info.attachment,success:function(t){a.shareFileMessage({filePath:t.tempFilePath,fileName:e.info.attachment_name||"",success:function(){},fail:console.error})},complete:function(){t.hideLoading()}})):this.$msg("无效链接")},saveAvt:function(){(this.$isVipTip(2!=this.info.exchangeStatus)||2==this.info.exchangeStatus)&&t.getImageInfo({src:this.info.img_yt||this.info.img,success:function(e){t.saveImageToPhotosAlbum({filePath:e.path,success:function(){t.showToast({title:"保存成功！",icon:"success",duration:1700})}})}})},toVip:function(){t.navigateTo({url:"/pages/vip/index"})},handleExchange:function(){var e=this;return(0,s.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api({url:"exchangeCard",data:{old_card_id:e.info.id,exchange_card_id:e.cardInfo.id}});case 2:a=n.sent,200==a.code?(e.showSwap=!1,t.showToast({title:"已提交交换申请",icon:"success"})):e.$msg(a.msg);case 4:case"end":return n.stop()}}),n)})))()},handleClickTabBtn:function(){2==this.info.exchangeStatus?this.tabInfo.isPhone&&this.tabInfo.content?t.makePhoneCall({phoneNumber:this.tabInfo.content}):this.$copy(this.tabInfo.content):this.handleShowSwap(this.tabInfo.title)},handleCollect:function(){var e=this;return(0,s.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api({url:"cardCollect",data:{id:e.id,type:1==e.info.is_collect?2:1}});case 2:a=n.sent,200==a.code&&(t.$emit("handleNeedRest"),e.loadInfo());case 4:case"end":return n.stop()}}),n)})))()},loadInfo:function(){var e=this;return(0,s.default)(o.default.mark((function n(){var a,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api({url:"cardDetail",data:{id:e.id}});case 2:if(a=n.sent,200!=a.code){n.next=11;break}if(e.info=a.data,e.shareInfo.imageUrl){n.next=10;break}return n.next=8,e.$refs.cardDome.getImg(a.data);case 8:i=n.sent,e.shareInfo={title:"我是".concat(a.data.name,"，这是我的简历，请惠存"),path:"/pages/resume/details?id="+a.data.id,imageUrl:i};case 10:t.setNavigationBarTitle({title:e.info.name+"的简历"});case 11:case"end":return n.stop()}}),n)})))()},handleRealAuth:function(){1==this.info.is_authentication&&(t.setStorageSync("realAuthInfo",this.info.authentication_content),t.navigateTo({url:"/pages/myCur/realAuthed"}))},handleShow:function(t){switch(this.tabInfo.isPhone=!1,t){case 1:this.tabInfo.title="电话",this.tabInfo.isPhone=!0,this.tabInfo.content=this.info.phone;break;case 2:this.tabInfo.title="邮箱",this.tabInfo.content=this.info.email;break;case 3:this.tabInfo.title="地址",this.tabInfo.content=this.info.address;break;case 4:this.tabInfo.title="微信",this.tabInfo.content=this.info.wechat;break;default:break}this.showInfo=!0}}};e.default=h}).call(this,n("df3c")["default"],n("3223")["default"])},"6d9b":function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("1802");a(n("3240"));var i=a(n("1762"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},8721:function(t,e,n){},"9cdd":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={popBox:function(){return n.e("components/pop-box/pop-box").then(n.bind(null,"d6b0"))},cardDome:function(){return Promise.all([n.e("common/vendor"),n.e("components/card-dome/card-dome")]).then(n.bind(null,"b6a2"))}},i=function(){var t=this.$createElement,e=(this._self._c,this.showVal(this.info.phone)),n=this.showVal(this.info.email),a=this.showVal(this.tabInfo.content);this.$mp.data=Object.assign({},{$root:{m0:e,m1:n,m2:a}})},o=[]},aa91:function(t,e,n){"use strict";n.r(e);var a=n("3bf2"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}},[["6d9b","common/runtime","common/vendor"]]]);